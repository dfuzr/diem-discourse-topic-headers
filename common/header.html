<script type="text/discourse-plugin" version="0.8">

  api.registerConnectorClass('topic-above-post-stream', 'post-header', {
    setupComponent(args, component) {
      console.log(args)
      if (args.model.category.id === 5) {
        console.log('Adding Event Calendar')
        component.set('hasNetworkHeader', true)
      }

    }
  });

  api.registerConnectorClass('topic-title', 'post-header', {
    setupComponent(args, component) {
      console.log(args)
      if (args.model.category.id === 5) {
        console.log('Adding Event Calendar')
        component.set('hasNetworkHeader', true)
      }

    }
  });
</script>

<script
  type="text/x-handlebars"
  data-template-name="/connectors/topic-above-post-stream/post-header"
>
  {{#if hasNetworkHeader}}
    <div class="above-topic-image-wrapper">
      <img class="above-topic-image" src="https://libra.org/wp-content/uploads/2019/10/network@2x.png" />
    </div>
  {{/if}}
</script>

<script
  type="text/x-handlebars"
  data-template-name="/connectors/topic-title/post-header"
>
  {{#if hasNetworkHeader}}
   <div>
     Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt
   </div>
  {{/if}}
</script>
